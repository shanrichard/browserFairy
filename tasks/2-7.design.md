# Design 2-7

## Requirements

- 在README.md中补充--persist-all-source-maps参数的说明
- 在AI分析指南中增加Source Map相关配置的说明
- 确保文档中准确描述该参数的功能、使用场景和与--enable-source-map的关系

## 功能说明

`--persist-all-source-maps` 参数是BrowserFairy的Source Map持久化功能开关：

1. **基本功能**：在脚本解析时主动下载并持久化所有Source Map文件，而不是等到出现异常时才下载
2. **使用前提**：必须配合 `--enable-source-map` 参数一起使用
3. **存储位置**：Source Map文件和源代码文件保存在各网站数据目录下的 `source_maps/` 和 `sources/` 子目录
4. **使用场景**：
   - 需要完整保存所有Source Map以便离线分析
   - 希望在AI分析时获得更准确的代码位置信息
   - 调试生产环境问题时需要保留完整的源代码映射

## Solution

1. 在README.md的使用示例部分添加--persist-all-source-maps的说明
2. 在README.md的输出数据说明部分解释source_maps/和sources/目录
3. 在AI_ANALYSIS_GUIDE.md中增加Source Map配置章节

## Tests

- 文档更新后应清晰说明参数用途
- 示例命令应正确展示参数组合使用方式